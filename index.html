<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.png" type="image/png">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>REISTOQ - Sistema de Gest√£o de Estoque</title>
    <meta name="description" content="Sistema completo de gest√£o de estoque e e-commerce com integra√ß√£o Mercado Livre, Shopee e Tiny ERP" />
    <meta name="author" content="REISTOQ" />

    <meta property="og:title" content="REISTOQ - Sistema de Gest√£o de Estoque" />
    <meta property="og:description" content="Sistema completo de gest√£o de estoque e e-commerce com integra√ß√£o Mercado Livre, Shopee e Tiny ERP" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
  </head>

  <body>
    <div id="root"></div>
    <div id="portal-root"></div>
    
    <!-- ‚úÖ FIX CR√çTICO: Fallback para erro de carregamento -->
    <script>
      // Captura erros globais antes do React carregar
      window.addEventListener('error', function(e) {
        if (e.message && e.message.includes('useState')) {
          console.error('üö® React useState error detected:', e);
          const root = document.getElementById('root');
          if (root && !root.innerHTML) {
            root.innerHTML = `
              <div style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background: #1a1a1a; color: #fff; font-family: system-ui;">
                <div style="text-align: center; padding: 20px;">
                  <h1>‚ö†Ô∏è Erro de Carregamento</h1>
                  <p>Erro ao inicializar React. Limpando cache...</p>
                  <button onclick="clearCacheAndReload()" style="padding: 10px 20px; margin-top: 10px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer;">
                    Recarregar Aplica√ß√£o
                  </button>
                </div>
              </div>
            `;
          }
        }
      });
      
      function clearCacheAndReload() {
        // Limpa cache do localStorage e sessionStorage
        try {
          localStorage.clear();
          sessionStorage.clear();
        } catch (e) {
          console.warn('Cache clear warning:', e);
        }
        // For√ßa reload com cache limpo
        window.location.reload(true);
      }
    </script>
    
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
