project_id = "tdjyfqnxvjgossuncpwm"

[functions.send-invitation-email]
verify_jwt = true

[functions.sync-ml-orders]
verify_jwt = true

[auth]
enabled = true
external_email_providers = ["gmail"]

[api]
enabled = true

[db]
enabled = true

[edge_runtime]
enabled = true

[functions.shopee-oauth]
verify_jwt = false

[functions.mercadolibre-oauth-start]
verify_jwt = false

[functions.mercadolibre-oauth-callback]
verify_jwt = false

[functions.mercadolibre-token-refresh]
verify_jwt = false

[functions.mercadolibre-orders]
verify_jwt = true

[functions.unified-orders]
verify_jwt = false

[functions.ml-token-refresh-cron]
verify_jwt = false

# CONFIGURAÇÃO CRÍTICA: CRON automático para refresh preventivo
# Executa a cada 2 horas para verificar tokens que expiram em 4 horas
[functions.ml-token-refresh-cron.cron]
schedule = "0 */2 * * *"

[functions.integrations-get-secret]
verify_jwt = false

[functions.integrations-store-secret]
verify_jwt = true

[functions.registrar-historico-vendas]
verify_jwt = true

[functions.pedidos-aggregator]
verify_jwt = true

[functions.enviar-notificacao-pedido]
verify_jwt = true

[functions.ml-auth]
verify_jwt = true

[functions.mercadolibre-diagnose]
verify_jwt = true

[functions.ml-webhook]
verify_jwt = false


[functions.ml-test-connection]
verify_jwt = false

# DEPRECATED: Use devolucoes-avancadas-sync instead
[functions.ml-devolucoes-sync]
verify_jwt = true

[functions.devolucoes-avancadas-sync]
verify_jwt = true

[functions.devolucoes-ml-analyzer]
verify_jwt = true

[functions.devolucoes-real-time-processor]
verify_jwt = false

[functions.ml-enrichment-real]
verify_jwt = false

[functions.sync-devolucoes-ml]
verify_jwt = false

[functions.auto-update-devolucoes]
verify_jwt = false

# ⏰ CRON JOB: Atualização automática a cada 4 horas
[functions.auto-update-devolucoes.cron]
schedule = "0 */4 * * *"  # 00:00, 04:00, 08:00, 12:00, 16:00, 20:00

[functions.ml-claims-fetch]
verify_jwt = true

[functions.ml-returns]
verify_jwt = true

# ============================================
# FASE 2: Edge Functions Background
# ============================================

[functions.sync-devolucoes]
verify_jwt = true

[functions.enrich-devolucoes]
verify_jwt = true

[functions.get-devolucoes]
verify_jwt = true

